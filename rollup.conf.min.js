import buble from 'rollup-plugin-buble'
import uglify from 'rollup-plugin-uglify'
import banner from './rollup.conf.banner'

export default {
    banner,
	entry: 'src/index.js',
	plugins: [
		buble(),
		uglify({
            output: {
                comments: function (node, comment) {
                    const { value: text, type } = comment
                    if ('comment2' === type) {
                        return /@license/.test(text)
                    }
                },
            },
        }),
	],
	format: 'iife',
	moduleName: 'Rematrix',
	dest: 'dist/rematrix.min.js',
}
